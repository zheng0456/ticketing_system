<template>
  <div class="beijing-scenery-container">
    <!-- æ ‡é¢˜åŒºåŸŸ -->
    <div class="header-title">
      <h1>åŒ—äº¬ <span class="english-title">BEIJING</span></h1>
    </div>
    
    <!-- å¯¼èˆªæ  -->
    <div class="navigation-bar">
      <router-link 
        v-for="(item, index) in navItems" 
        :key="index"
        :to="item.path"
        :class="['nav-item', { active: item.active }]"
        @click="setActiveNav(index)"
      >
        <span class="nav-icon">{{ item.icon }}</span>
        <span class="nav-text">{{ item.text }}</span>
      </router-link>
    </div>
    
    <!-- åŒ—äº¬é•¿åŸå›¾ç‰‡å±•ç¤º -->
    <div class="image-container">
      <img 
          :src="require('@/assets/img/é•¿åŸ.png')" 
          alt="é•¿åŸé£æ™¯" 
          class="scenery-image"
          @error="handleImageError"
        >
    </div>
    
    <!-- æ•…å®«åšç‰©é™¢ä¿¡æ¯å±•ç¤ºå®¹å™¨ -->
    <div class="scenery-cards-container">
      <!-- æ•…å®«åšç‰©é™¢ä¿¡æ¯å±•ç¤º 1 -->
      <div class="forbidden-city-info" style="width: 400px; height: 300px;">
        <div class="forbidden-city-image">
          <img 
            :src="require('@/assets/img/æ•…å®«åšç‰©é¦†.png')" 
            alt="æ•…å®«åšç‰©é™¢" 
            class="forbidden-city-img"
            @error="handleImageError"
          >
        </div>
        <div class="forbidden-city-details">
          <h3 class="forbidden-city-title">æ•…å®«åšç‰©é™¢</h3>
          <div class="forbidden-city-rating">
            <span class="rating-score">4.8åˆ†</span>
          </div>
          <p class="forbidden-city-description">ç©¿è¶Šæ˜æ¸…ä¸¤æœçš„çš‡å®¶å®«æ®¿ç¾¤</p>
        </div>
      </div>
      
      <!-- æ•…å®«åšç‰©é™¢ä¿¡æ¯å±•ç¤º 2 -->
      <div class="forbidden-city-info" style="width: 400px; height: 300px;">
        <div class="forbidden-city-image">
          <img 
            :src="require('@/assets/img/å…«è¾¾å²­é•¿åŸ.png')" 
            alt="å…«è¾¾å²­é•¿åŸ" 
            class="forbidden-city-img"
            @error="handleImageError"
          >
        </div>
        <div class="forbidden-city-details">
          <h3 class="forbidden-city-title">å…«è¾¾å²­é•¿åŸ</h3>
          <div class="forbidden-city-rating">
            <span class="rating-score">4.7åˆ†</span>
          </div>
          <p class="forbidden-city-description">ä¸åˆ°é•¿åŸéå¥½æ±‰</p>
        </div>
      </div>

      <!-- æ•…å®«åšç‰©é™¢ä¿¡æ¯å±•ç¤º 3 -->
      <div class="forbidden-city-info" style="width: 400px; height: 300px;">
        <div class="forbidden-city-image">
          <img 
            :src="require('@/assets/img/åŒ—äº¬ç¯çƒåº¦å‡åŒº.png')" 
            alt="åŒ—äº¬ç¯çƒå½±åŸ" 
            class="forbidden-city-img"
            @error="handleImageError"
          >
        </div>
        <div class="forbidden-city-details">
          <h3 class="forbidden-city-title">åŒ—äº¬ç¯çƒå½±åŸ</h3>
          <div class="forbidden-city-rating">
            <span class="rating-score">4.6åˆ†</span>
          </div>
          <p class="forbidden-city-description">å¤§ç‰‡ä¸–ç•Œï¼Œåœ¨æ­¤æˆçœŸ</p>
        </div>
      </div>
    </div>

    <!-- æ•…å®«åšç‰©é™¢ä¿¡æ¯å±•ç¤ºå®¹å™¨ -->
    <div class="scenery-cards-container-1">
      <!-- æ•…å®«åšç‰©é™¢ä¿¡æ¯å±•ç¤º 1 -->
      <div class="forbidden-city-info" style="width: 400px; height: 300px;">
        <div class="forbidden-city-image">
          <img 
            :src="require('@/assets/img/æ­ç‹åºœ.png')" 
            alt="æ­ç‹åºœ" 
            class="forbidden-city-img"
            @error="handleImageError"
          >
        </div>
        <div class="forbidden-city-details">
          <h3 class="forbidden-city-title">æ­ç‹åºœ</h3>
          <div class="forbidden-city-rating">
            <span class="rating-score">4.7åˆ†</span>
          </div>
          <p class="forbidden-city-description">æ—§æ—¶æ¸…æœå¤§è‡£å’Œç…çš„åºœé‚¸</p>
        </div>
      </div>
      
      <!-- æ•…å®«åšç‰©é™¢ä¿¡æ¯å±•ç¤º 2 -->
      <div class="forbidden-city-info" style="width: 400px; height: 300px;">
        <div class="forbidden-city-image">
          <img 
            :src="require('@/assets/img/å¤©å›.png')" 
            alt="å¤©å›å…¬å›­" 
            class="forbidden-city-img"
            @error="handleImageError"
          >
        </div>
        <div class="forbidden-city-details">
          <h3 class="forbidden-city-title">å¤©å›å…¬å›­</h3>
          <div class="forbidden-city-rating">
            <span class="rating-score">4.7åˆ†</span>
          </div>
          <p class="forbidden-city-description">æ˜æ¸…æ—¶æœŸçš‡å¸ç¥­å¤©çš„åœ°æ–¹</p>
        </div>
      </div>

      <!-- æ•…å®«åšç‰©é™¢ä¿¡æ¯å±•ç¤º 3 -->
      <div class="forbidden-city-info" style="width: 400px; height: 300px;">
        <div class="forbidden-city-image">
          <img 
            :src="require('@/assets/img/é¢å’Œå›­.png')" 
            alt="é¢å’Œå›­" 
            class="forbidden-city-img"
            @error="handleImageError"
          >
        </div>
        <div class="forbidden-city-details">
          <h3 class="forbidden-city-title">é¢å’Œå›­</h3>
          <div class="forbidden-city-rating">
            <span class="rating-score">4.6åˆ†</span>
          </div>
          <p class="forbidden-city-description">èµ°å…¥æ¸…æœçš‡å¸çš„çš‡å®¶å›­æ—</p>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'BeijingScenery',
  data() {
    return {
      // å¯¼èˆªé¡¹æ•°æ®
      navItems: [
        { path: '/scenerymessage', icon: 'â–²', text: 'æ™¯ç‚¹', active: true },
        { path: '/accommodation', icon: 'ğŸ ', text: 'ä½å®¿', active: false }
      ]
    }
  },
  methods: {
    // è®¾ç½®å½“å‰æ¿€æ´»çš„å¯¼èˆªé¡¹
    setActiveNav(index) {
      this.navItems.forEach((item, i) => {
        item.active = i === index;
      });
    },
    // å¤„ç†å›¾ç‰‡åŠ è½½é”™è¯¯
    handleImageError(event) {
      // ä½¿ç”¨é»˜è®¤å›¾ç‰‡æˆ–è€…æç¤ºä¿¡æ¯
      console.log('å›¾ç‰‡åŠ è½½å¤±è´¥');
      // è®¾ç½®ä¸€ä¸ªé»˜è®¤å›¾ç‰‡è·¯å¾„
      try {
        event.target.src = require('@/assets/img/index1.jpg');
      } catch (e) {
        // å¦‚æœé»˜è®¤å›¾ç‰‡ä¹Ÿä¸å­˜åœ¨ï¼Œä½¿ç”¨ç®€å•çš„å ä½ç¬¦
        event.target.src = 'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect fill="%23f0f0f0" width="100" height="100"/><text x="50" y="50" text-anchor="middle" dominant-baseline="middle" font-size="12">å›¾ç‰‡åŠ è½½å¤±è´¥</text></svg>';
      }
    }
  },
  // ç›‘å¬è·¯ç”±å˜åŒ–ï¼Œæ›´æ–°æ¿€æ´»çŠ¶æ€
  watch: {
    $route(to) {
      const index = this.navItems.findIndex(item => to.path.includes(item.path));
      if (index !== -1) {
        this.setActiveNav(index);
      }
    }
  }
}
</script>

<style scoped>
.beijing-scenery-container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

.header-title {
  text-align: left;
  margin-bottom: 20px;
}

.header-title h1 {
  font-size: 32px;
  font-weight: bold;
  color: #333;
  margin: 0;
}

.english-title {
  font-size: 24px;
  color: #666;
  margin-left: 10px;
  font-weight: normal;
}

.navigation-bar {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  padding: 15px 0;
  margin-bottom: 20px;
  border-bottom: 1px solid #eee;
  overflow-x: auto;
}

.nav-item {
    display: flex;
    align-items: center;
    margin-right: 30px;
    cursor: pointer;
    padding: 5px 10px;
    border-radius: 4px;
    transition: all 0.3s ease;
    white-space: nowrap;
    text-decoration: none;
    color: inherit;
  }

.nav-item:hover {
  background-color: #f5f5f5;
}

.nav-item.active {
  color: #1890ff;
  font-weight: bold;
}

.nav-icon {
  margin-right: 5px;
  font-size: 18px;
}

.nav-text {
  font-size: 16px;
}

.image-container {
  width: 100%;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.scenery-image {
  width: 100%;
  height: auto;
  display: block;
}

/* æ™¯ç‚¹å¡ç‰‡å®¹å™¨æ ·å¼ */
.scenery-cards-container {
  display: flex;
  gap: 10px;
  margin-top: 60px;
}

/* æ•…å®«åšç‰©é™¢ä¿¡æ¯å±•ç¤ºæ ·å¼ */
.forbidden-city-info {
  border: 1px solid #e8e8e8;
  border-radius: 8px;
  overflow: hidden;
  background: #ffffff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
}

.forbidden-city-image {
  width: 100%;
  height: 350px;
  overflow: hidden;
}

.forbidden-city-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.forbidden-city-details {
  padding: 20px;
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  text-align: left;
}

.forbidden-city-title {
  font-size: 20px;
  font-weight: bold;
  color: #333;
  margin: 0 0 10px 0;
  text-align: left;
}

.forbidden-city-rating {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  text-align: left;
}

.rating-score {
  font-size: 18px;
  color: #ff6700;
  font-weight: bold;
  margin-right: 10px;
  text-align: left;
}

.rating-count {
  font-size: 14px;
  color: #999;
  text-align: left;
}

.forbidden-city-description {
  font-size: 14px;
  color: #666;
  margin: 0;
  line-height: 1.5;
  text-align: left;
}

.scenery-cards-container-1{
  display: flex;
  gap: 10px;
  margin-top: 20px;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .beijing-scenery-container {
    padding: 10px;
  }
  
  .header-title h1 {
    font-size: 24px;
  }
  
  .english-title {
    font-size: 18px;
  }
  
  .nav-item {
    margin-right: 20px;
  }
  
  .nav-text {
    font-size: 14px;
  }
  
  .scenery-cards-container {
    flex-direction: column;
    gap: 20px;
  }
  
  .forbidden-city-info {
    width: 100% !important;
    height: auto !important;
  }
  
  .forbidden-city-image {
    height: 200px;
  }
}

</style>